import{r as d,d as c,a,j as e}from"./app-a381c4b7.js";import{r as k,i as C,a as F,I}from"./index-0c4cce5b.js";import{R as P}from"./index-7a7f9693.js";import"./dayjs.min-f2496192.js";import{B as D}from"./Index-afd8de48.js";import{_ as T,I as $}from"./index-bfdd4c98.js";import{S as E,G as R,a as O}from"./Pending-ee3cd4c0.js";import{S as V,F as q}from"./Failed-3c4f0893.js";import{D as z}from"./Divider-1d99539a.js";import"./logo-641cabfd.js";import"./ButtonBase-7db9b5bc.js";import"./styled-d729a487.js";import"./Menu-e827a689.js";import"./MenuItem-ddd3f184.js";import"./dividerClasses-477e93d8.js";import"./Button-1729f5c4.js";import"./iconBase-17a33e48.js";import"./index.esm-c7a5946b.js";var m={},L=C;Object.defineProperty(m,"__esModule",{value:!0});var x=m.default=void 0,G=L(k()),H=F,M=(0,G.default)((0,H.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");x=m.default=M;function ne({auth:g,user:t,transactions:i,flash:n}){const[s,h]=d.useState("histories"),[p,f]=d.useState(null),[y,N]=d.useState({name:t.name,phone:t.phone,photo_profile:t.photo_profile}),o=l=>{const S=l.target.id,j=l.target.type==="file"?l.target.files[0]:l.target.value;N(r=>({...r,[S]:j}));const u=l.target.files[0];if(u){const r=new FileReader;r.onload=()=>{f(r.result)},r.readAsDataURL(u)}else f(null)};d.useEffect(()=>{n.message&&T.success(n.message),c.Inertia.post("/clear-flash")},[n.message]);const v=l=>{c.Inertia.get(`/detail-transaction/${l}`)},b=l=>{l.preventDefault(),c.Inertia.post(`/profile/${t.id}`,y)},_=()=>{h("histories")},w=()=>{h("settings")};return a(I,{auth:g,children:[e($,{}),e("div",{className:"font-sans",children:e("div",{className:"flex flex-col w-full items-center justify-center my-10",children:e("div",{className:"w-full",children:a("div",{className:"flex gap-20 mx-32 justify-center  mt-10",children:[a("div",{className:"border shadow-md p-5 rounded-xl w-3/12 flex flex-col justify-center ",children:[a("div",{className:"flex flex-col items-center justify-center",children:[e("div",{className:"w-36 h-auto",children:e("img",{src:t.photo_profile,alt:"Photo Profile",className:"rounded-full border-4 shadow-md border-white "})}),a("div",{className:"flex flex-col items-center my-5",children:[e("h3",{className:"text-xl font-inter font-medium text-gray-700",children:t.name}),e("h4",{className:"text-gray-500",children:t.email})]})]}),a("div",{className:"flex flex-col gap-3",children:[e("h3",{className:"font-inter text-sm font-medium",children:"Details"}),e(z,{}),a("div",{children:[e("h3",{className:"font-inter text-sm font-medium",children:"Account ID"}),a("span",{className:"text-sm text-gray-500",children:["ID-",t.id]})]}),a("div",{children:[e("h3",{className:"font-inter text-sm font-medium",children:"Email"}),e("span",{className:"text-sm text-gray-500",children:t.email})]}),a("div",{children:[e("h3",{className:"font-inter text-sm font-medium",children:"Phone"}),e("span",{className:"text-sm text-gray-500",children:t.phone})]})]})]}),a("div",{className:"w-9/12",children:[a("div",{className:"flex gap-3 mb-5",children:[e("button",{onClick:_,className:`${s=="histories"?"text-primary border-b-2":"text-gray-700"} font-medium hover:border-b-2 px-4 py-2 h-fit`,children:"History"}),e("button",{onClick:w,className:`${s=="settings"?"text-primary border-b-2":"text-gray-700"} font-medium  hover:border-b-2 px-4 py-2 h-fit`,children:"Profile Setting"})]}),a("div",{className:"h-fit flex flex-col border shadow-md p-5 rounded-xl",children:[s=="histories"&&a("div",{className:"flex flex-col gap-5",children:[e("h1",{className:"text-xl font-medium",children:"History Transaksi"}),a("div",{className:"text-gray-500 ",children:[a("table",{className:"h-fit text-sm w-full divide-y-2 divide-gray-100",children:[e("thead",{className:"text-left",children:a("tr",{children:[e("th",{className:"py-3",children:"Order No"}),e("th",{className:"py-3",children:"Status Transaksi"}),e("th",{className:"py-3",children:"Total"}),e("th",{className:"py-3",children:"Type Pembayaran"}),e("th",{className:"py-3",children:"Type Transaksi"}),e("th",{className:"py-3",children:"Tanggal Transaksi"})]})}),i.data.map(l=>e("tbody",{className:"divide-y divide-gray-100 text-left",children:a("tr",{className:"hover:cursor-pointer hover:bg-gray-100",onClick:()=>{v(l.id)},children:[a("td",{className:"py-3",children:["#",l.id]}),e("td",{className:"py-3",children:l.status_transaction==="success"?e(V,{message:"success"}):l.status_transaction==="pending"?e(E,{message:"pending"}):l.status_transaction==="failed"?e(q,{message:"failed"}):null}),e("td",{className:"py-3",children:P(l.amount)}),e("td",{className:"py-3",children:l.type_payment}),e("td",{className:"py-3",children:l.type_transaction.type_transaction_name}),e("td",{className:"py-3",children:l.date_transaction})]})},l.id))]}),a("div",{className:"gap-2 flex justify-end items-center mt-5",children:[a("div",{children:[i.from,"-",i.to," of ",i.total]}),e("a",{href:i.prev_page_url,className:`${i.prev_page_url?"":"bg-gray-400"}bg-gray-200 p-2 rounded-md`,children:e(R,{})}),e("a",{href:i.next_page_url,className:`${i.next_page_url?"":"bg-gray-400"}bg-gray-200 p-2 rounded-md`,children:e(O,{})})]})]})]}),s=="settings"&&a("div",{className:"flex flex-col gap-5",children:[e("h1",{className:"text-xl font-medium",children:"Profile Setting"}),a("div",{className:"flex flex-col gap-5",children:[a("div",{className:"border-4  shadow-md w-fit h-fit relative border-white",children:[e("img",{src:p||t.photo_profile,alt:"",className:"w-36 h-auto"}),a("div",{className:"absolute -bottom-3 -right-3 rounded-full bg-white p-1 shadow-md",children:[e("label",{htmlFor:"photo_profile",className:"hover:cursor-pointer",children:e(x,{fontSize:"small",color:"primary"})}),e("input",{type:"file",onChange:o,id:"photo_profile",className:"hidden"})]})]}),a("form",{onSubmit:b,children:[a("div",{className:"grid grid-cols-12 gap-5",children:[a("div",{className:"col-span-12 flex flex-col",children:[e("label",{htmlFor:"name",children:"Nama"}),e("input",{id:"name",type:"text",onChange:o,defaultValue:t.name,className:"border-none rounded-md bg-gray-100"})]}),a("div",{className:"col-span-6 flex flex-col ",children:[e("label",{htmlFor:"email",children:"Email"}),e("input",{id:"email",disabled:!0,type:"text",defaultValue:t.email,className:"border-none rounded-md text-gray-400 bg-gray-100"})]}),a("div",{className:"col-span-6 flex flex-col ",children:[e("label",{htmlFor:"phone",children:"Phone"}),e("input",{id:"phone",type:"text",onChange:o,defaultValue:t.phone,className:"border-none rounded-md bg-gray-100"})]})]}),e("div",{className:"py-5 text-end",children:e(D,{title:"Save",size:"medium",variant:"contained",backgroundColor:"primary",type:"submit"})})]})]})]})]})]})]})})})})]})}export{ne as default};
